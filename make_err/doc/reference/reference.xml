<?xml version="1.0" standalone="no"?>
<!DOCTYPE article SYSTEM "minidocbook.dtd">

<!-- $Id$ -->

<article>

	<articleinfo>
		<title>Error catalogue language reference</title>

		<!-- TODO: this ought to become make_err.5 -->

		<authorgroup>
			<othercredit class="copyeditor">
				<firstname>Katherine</firstname>
				<surname>Flavel</surname>
				<affiliation><orgname>The TenDRA Project</orgname></affiliation>
			</othercredit>

			<corpauthor>DERA</corpauthor>
		</authorgroup>

		<pubdate>2007</pubdate>

		<copyright>
			<year>2011</year>
			<year>2007</year>
			<holder>The TenDRA Project</holder>
		</copyright>

		<copyright>
			<year>1998</year>
			<holder>DERA</holder>
		</copyright>

		<revhistory>
			<revision role="version">
				<date>2007-10-01</date>
				<authorinitials>kate</authorinitials>
				<revdescription>
					<para>Split off from the &tdfc2-userguide.doc;.</para>
				</revdescription>
			</revision>

			<revision role="version">
				<date>1998-07-30</date>
				<revnumber>make_err 1.1</revnumber>
				<authorinitials>DERA</authorinitials>
				<revdescription>
					<para>TenDRA 4.1.2 release.</para>
				</revdescription>
			</revision>
		</revhistory>
	</articleinfo>

	<section>
		<title>Error catalogue language reference</title>

		<para>The following gives a summary of the syntax for the
			error catalogue accepted by the <code>make_err</code> tool.
			Identifiers are normal C-style identifiers,
			strings consist of any sequence of characters enclosed inside
			<code>&quot;....&quot;</code>.	The escape sequences <code>\&quot;</code>
			and <code>\\</code> are allowed in strings; other characters (including
			newline characters) map to themselves.	C-style comments are allowed.</para>

		<programlisting language="bnf"><function>error-database</function> :
	<function>header types&opt.bnf; properties&opt.bnf; keys&opt.bnf; usages&opt.bnf; entries&opt.bnf;</function>

<function>header</function> :
	<function>database-name&opt.bnf; rig-name&opt.bnf; prefixes&opt.bnf;</function>


<function>database-name</function> :
	DATABASE_NAME : <function>identifier</function>

<function>rig-name</function> :
	RIG : <function>identifier</function>


<function>prefixes</function> :
	PREFIX : <function>output-prefix&opt.bnf; compiler-prefix&opt.bnf; error-prefix&opt.bnf;</function>

<function>output-prefix</function> :
	compiler_output -&gt; <function>identifier</function>

<function>compiler-prefix</function> :
	from_compiler -&gt; <function>identifier</function>

<function>error-prefix</function> :
	from_database -&gt; <function>identifier</function>


<function>types</function> :
	TYPES : <function>name-list&opt.bnf;</function>

<function>properties</function> :
	PROPERTIES : <function>name-list&opt.bnf;</function>

<function>keys</function> :
	KEYS : <function>name-list&opt.bnf;</function>

<function>usages</function> :
	USAGE : <function>name-list&opt.bnf;</function>

<function>name</function> :
	<function>identifier</function>
	<function>identifier</function> = <function>identifier</function>
	<function>identifier</function> = <function>identifier</function> | <function>identifier</function>

<function>name-list</function> :
	<function>name</function>
	<function>name</function> , <function>name-list</function>


<function>type-name</function> :
	<function>identifier</function>

<function>property-name</function> :
	<function>identifier</function>

<function>key-name</function> :
	<function>identifier</function>

<function>usage-name</function> :
	<function>identifier</function>


<function>entries</function> :
	ENTRIES : <function>entries-list&opt.bnf;</function>

<function>entry-list</function> :
	<function>entry entry-list&opt.bnf;</function>

<function>entry</function> :
	<function>identifier</function> ( <function>param-list&opt.bnf;</function> ) { <function>entry-body</function> }

<function>entry-body</function> :
	<function>alt-name&opt.bnf; entry-usage&opt.bnf; entry-properties&opt.bnf; map-list&opt.bnf;</function>


<function>parameter</function> :
	<function>type-name</function> : <function>identifier</function>

<function>param-list</function> :
	<function>parameter</function>
	<function>parameter</function> , <function>param-list</function>

<function>param-name</function> :
	<function>identifier</function>


<function>alt-name</function> :
	ALT_NAME : <function>identifier</function>

<function>entry-usage</function> :
	USAGE : <function>usage-name</function>
	USAGE : <function>usage-name</function> | <function>usage-name</function>

<function>entry-properties</function> :
	PROPERTIES : <function>property-list&opt.bnf;</function>

<function>property-list</function> :
	<function>property-name</function>
	<function>property-name</function> , <function>property-list</function>


<function>map</function> :
	KEY ( <function>key-name</function> ) <function>message-list&opt.bnf;</function>
	KEY ( <function>key-name</function> ) <function>message-list&opt.bnf;</function> | <function>message-list&opt.bnf;</function>

<function>map-list</function> :
	<function>map map-list&opt.bnf;</function>

<function>message-list</function> :
	<function>string message-list&opt.bnf;</function>
	<function>param-name message-list&opt.bnf;</function></programlisting>
  </section>

<!-- TODO bibliography -->

	<section>
		<title>References</title>

		<para>&make_err;.</para>

		<para>&tdf-spec.doc;, &tchk.doc;, &tdf-portability.doc;.</para>
	</section>
</article>

