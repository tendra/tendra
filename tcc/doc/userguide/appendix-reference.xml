<?xml version="1.0" standalone="no"?>
<!DOCTYPE chapter SYSTEM "minidocbook.dtd" [

	<!ENTITY cc   "<application><acronym>CC</acronym></application>">
	<!ENTITY tcc  "<application><acronym>TCC</acronym></application>">
	<!ENTITY tld  "<application><acronym>TLD</acronym></application>">
	<!ENTITY tdfc "<application><acronym>TDFC</acronym></application>">
	<!ENTITY tdf  "<acronym>TDF</acronym>">
	<!ENTITY api  "<acronym>API</acronym>">

	<!ENTITY ntimeso "<replaceable>n</replaceable>&nbsp;&times;&nbsp;<filename>.o</filename>">
	<!ENTITY ntimesj "<replaceable>n</replaceable>&nbsp;&times;&nbsp;<filename>.j</filename>">
	<!ENTITY ntimesk "<replaceable>n</replaceable>&nbsp;&times;&nbsp;<filename>.k</filename>">
	<!ENTITY jplusk  "<filename>.j</filename>&nbsp;+&nbsp;<filename>.k</filename>">
	<!ENTITY gplust  "<filename>.G</filename>&nbsp;+&nbsp;<filename>.T</filename>">

	<!ENTITY repstring "<replaceable>string</replaceable>">
	<!ENTITY repletter "<replaceable>string</replaceable>">

]>


<!--
	$Id$
-->

<appendix>
	<title>&tcc; Reference Guide</title>

	<section>
		<title>Input and Output Files</title>

		<para>&tcc; identifies the file type of the input files it is
			passed by means of their file suffix.
			The recognised file suffixes are as follows:</para>

		<table>
			<title>Input File Suffixes</title>

			<col align="center"/>
			<col align="center"/>
			<col align="left"/>
			<col align="left"/>

			<thead>
				<tr>
					<th>Suffix</th>
					<th>Code</th>
					<th>Context</th>
					<th>Description</th>
				</tr>
			</thead>

			<tbody>
				<tr>
					<td><filename>.c</filename></td>
					<td><code>c</code></td>
					<td role="na" align="center">&ndash;</td>
					<td>C source file</td>
				</tr>
				<tr>
					<td><filename>.i</filename></td>
					<td><code>i</code></td>
					<td role="na" align="center">&ndash;</td>
					<td>Preprocessed C source file</td>
				</tr>
				<tr>
					<td><filename>.j</filename></td>
					<td><code>j</code></td>
					<td role="na" align="center">&ndash;</td>
					<td>Target independent &tdf; capsule</td>
				</tr>
				<tr>
					<td><filename>.t</filename></td>
					<td><code>t</code></td>
					<td role="na" align="center">&ndash;</td>
					<td>Target dependent &tdf; capsule</td>
				</tr>
				<tr>
					<td><filename>.s</filename></td>
					<td><code>s</code></td>
					<td role="na" align="center">&ndash;</td>
					<td>Assembly source file</td>
				</tr>
				<tr>
					<td><filename>.o</filename></td>
					<td><code>o</code></td>
					<td role="na" align="center">&ndash;</td>
					<td>Binary object file</td>
				</tr>
				<tr>
					<td><filename>.k</filename></td>
					<td><code>k</code></td>
					<td><option>-im</option> only</td>
					<td>C spec file</td>
				</tr>
				<tr>
					<td><filename>.p</filename></td>
					<td><code>p</code></td>
					<td><option>-Ytnc</option> only</td>
					<td>&tdf; notation source file</td>
				</tr>
				<tr>
					<td><filename>.ta</filename></td>
					<td><code>A</code></td>
					<td role="na" align="center">&ndash;</td>
					<td>&tdf; archive</td>
				</tr>
				<tr>
					<td><filename>.tpl</filename></td>
					<td><code>P</code></td>
					<td><option>-Ypl_tdf</option> only</td>
					<td><acronym>PL_TDF</acronym> source file</td>
				</tr>
				<tr>
					<td><filename>.G</filename></td>
					<td><code>G</code></td>
					<td>Mips only</td>
					<td>Binasm source file</td>
				</tr>
				<tr>
					<td><filename>.T</filename></td>
					<td><code>T</code></td>
					<td>Mips only</td>
					<td>Assembler source file</td>
				</tr>
				<tr>
					<td>other</td>
					<td role="na">&ndash;</td>
					<td role="na" align="center">&ndash;</td>
					<td>Binary object file</td>
				</tr>
			</tbody>
		</table>

		<para>Each file type is assigned an identifying letter, usually
			corresponding to its file suffix, which may be used in various
			command-line options.
			For example, <option>-Fs</option> instructs &tcc; to halt
			the compilation after creating the assembly source files,
			and is therefore equivalent to <option>-S</option>.
			Similarly <option>-Po </option>instructs it to preserve any
			binary object files it creates.
			There are a couple of special file type codes which may be
			used with the <option>-P</option> option.
			The option <option>-Pa</option> causes all intermediate files
			to be created, whereas <option>-Ph</option> causes the
			start-up file, <filename>tcc_startup.h</filename>, used by
			&tcc; to be preserved.
			The <option>-P</option> option can also be used to specify
			that intermediate files of various forms should not be
			preserved.
			For example, the option <option> -P-o</option> indicates
			that binary object files should not be preserved.</para>

		<para>Most output file names are derived from the input file
			names with a simple substitution of file suffix, however
			certain output files (and other files) have default names.
			These are as follows:</para>

		<table>
			<title>Default Output Filenames</title>

			<col align="left"/>
			<col align="left"/>

			<thead>
				<tr>
					<th>Filename</th>
					<th>Description</th>
				</tr>
			</thead>

			<tbody>
				<tr>
					<td><filename>a.j</filename></td>
					<td>Default merged &tdf; capsule name
						(with <option>-M</option> option)</td>
				</tr>
				<tr>
					<td><filename>a.out</filename></td>
					<td>Default executable name in binary
						object linking phase</td>
				</tr>
				<tr>
					<td><filename>a.ta</filename></td>
					<td>Default output &tdf; archive name</td>
				</tr>
				<tr>
					<td><filename>a.k</filename></td>
					<td>Default output file in intermodular
						checks linking phase</td>
				</tr>
				<tr>
					<td><filename>tcc_startup.h</filename></td>
					<td>Start-up file used by &tcc; for
						<option>-D</option> and <option>-U</option>
						options.</td>
				</tr>
				<tr>
					<td><filename>tcc_endup.h</filename></td>
					<td>End-up file used by &tcc;</td>
				</tr>
			</tbody>
		</table>

		<para>If there is a single output file, its name may be specified
			using the <option>-o</option> option.
			The default output filenames can also be overridden.
			For example, <option>-doj&nbsp;b.j</option> sets the default
			merged TDF capsule name to <filename>b.j</filename>.</para>
	</section>

	<section>
		<title>Compilation Phases</title>

		<para>The various compilation phases under the control of &tcc;
			may be summarised as follows:</para>

		<table>
			<title>Compilation Phases</title>

			<col align="left"/>
			<col align="center"/>
			<col align="right"/>
			<col align="left"/>
			<col align="left"/>

			<thead>
				<tr>
					<th>Executable</th>
					<th>Code</th>
					<th align="center" colspan="2">Action</th>
					<th>Description</th>
				</tr>
			</thead>

			<tbody>
				<tr>
					<td rowspan="4"><code>tdfc</code></td>
					<td rowspan="4"><code>c</code></td>
					<td role="input norow"><filename>.c</filename></td>
					<td role="output norow"><filename>.j</filename></td>
					<td rowspan="2">C to &tdf; producer</td>
				</tr>
				<tr>
					<td role="input"><filename>.i</filename></td>
					<td role="output"><filename>.j</filename></td>
				</tr>
				<tr>
					<td role="input norow"><filename>.c</filename></td>
					<td role="output norow">&jplusk;</td>
					<td rowspan="2">(in intermodular checking mode)</td>
				</tr>
				<tr>
					<td role="input"><filename>.i</filename></td>
					<td role="output">&jplusk;</td>
				</tr>
				<tr>
					<td rowspan="2"><code>tld</code></td>
					<td rowspan="2"><code>L</code></td>
					<td role="input"><filename>.j</filename></td>
					<td role="output"><filename>.t</filename></td>
					<td>C to &tdf; producer</td>
				</tr>
				<tr>
					<td role="input">&ntimesj;&nbsp;</td>
					<td role="output"><filename>.j</filename></td>
					<td>(in &tdf; merging mode)</td>
				</tr>
				<tr>
					<td><code>trans</code></td>
					<td><code>t</code></td>
					<td role="input"><filename>.t</filename></td>
					<td role="output"><filename>.s</filename></td>
					<td>&tdf; translator</td>
				</tr>
				<tr>
					<td><code>as</code></td>
					<td><code>a</code></td>
					<td role="input"><filename>.s</filename></td>
					<td role="output"><filename>.o</filename></td>
					<td>System assembler</td>
				</tr>
				<tr>
					<td><code>ld</code></td>
					<td><code>l</code></td>
					<td role="input">&ntimeso;</td>
					<td role="output"><filename>exec</filename></td>
					<td>System linker</td>
				</tr>
				<tr>
					<td role="na">&ndash;</td>
					<td><code>J</code></td>
					<td role="input">&ntimesj;</td>
					<td role="output"><filename>.ta</filename></td>
					<td>Archive builder (built into &tcc;)</td>
				</tr>
				<tr>
					<td role="na">&ndash;</td>
					<td><code>J</code></td>
					<td role="input"><filename>.ta</filename></td>
					<td role="output">&ntimesj;</td>
					<td>Archive splitter (built into &tcc;)</td>
				</tr>
				<tr>
					<td><code>tdfcpp</code></td>
					<td><code>p</code></td>
					<td role="input"><filename>.c</filename></td>
					<td role="output"><filename>.i</filename></td>
					<td>C preprocessor</td>
				</tr>
				<tr>
					<td><code>spec_linker</code></td>
					<td><code>S</code></td>
					<td role="input">&ntimesk;</td>
					<td role="output"><filename>.k</filename></td>
					<td>C spec linker</td>
				</tr>
				<tr>
					<td rowspan="2"><code>disp</code></td>
					<td rowspan="2"><code>d</code></td>
					<td role="input norow"><filename>.j</filename></td>
					<td role="output norow"><filename>.p</filename></td>
					<td rowspan="2">&tdf; pretty printer</td>
				</tr>
				<tr>
					<td role="input"><filename>.t</filename></td>
					<td role="output"><filename>.p</filename></td>
				</tr>
				<tr>
					<td><code>tnc</code></td>
					<td><code>n</code></td>
					<td role="input"><filename>.p</filename></td>
					<td role="output"><filename>.j</filename></td>
					<td>&tdf; notation compiler</td>
				</tr>
				<tr>
					<td rowspan="2"><code>tnc -p</code></td>
					<td rowspan="2"><code>n</code></td>
					<td role="input norow"><filename>.j</filename></td>
					<td role="output norow"><filename>.p</filename></td>
					<td rowspan="2">Reverse &tdf; notation compiler</td>
				</tr>
				<tr>
					<td role="input"><filename>.t</filename></td>
					<td role="output"><filename>.p</filename></td>
				</tr>
				<tr>
					<td><code>tpl</code></td>
					<td><code>P</code></td>
					<td role="input"><filename>.tpl</filename></td>
					<td role="output"><filename>.j</filename></td>
					<td><acronym>PL_TDF</acronym>
						compiler</td>
				</tr>
				<tr>
					<td><code>mipstrans</code></td>
					<td><code>t</code></td>
					<td role="input"><filename>.t</filename></td>
					<td role="output">&gplust;</td>
					<td>&tdf; to Mips translator</td>
				</tr>
				<tr>
					<td><code>asl</code></td>
					<td><code>A</code></td>
					<td role="input">&gplust;</td>
					<td role="output"><filename>.o</filename></td>
					<td>Auxillary assembler (Mips only)</td>
				</tr>
				<tr>
					<td><code>cc</code></td>
					<td><code>C</code></td>
					<td colspan="2" align="center">(various)</td>
					<td>System C compiler
						(specified with <option>-cc</option> option)</td>
				</tr>
			</tbody>
		</table>

		<para>Each compilation phase is assigned a code letter which is
			used to identify that phase in various command-line options.
			For example, in order to pass the <option>-x</option> option
			to &tdfc; the <option>-Wc,&nbsp;-x</option> command-line
			option may be used.
			Similarly, to set the &tld; executable an option of the form
			<option>-EL:&nbsp;/usr/local/bin/tld</option> may be
			used.</para>
	</section>

	<section>
		<title>Command-line Options</title>

		<para>The following options are accepted by &tcc;.
			They can be given by command-line options or the
			<varname>TCCOPTS</varname> system variable.
			The spaces in the option descriptions are optional,
			they show where two-part or multi-part options can be
			split over more than one command-line argument.</para>

		<table>
			<col align="left"/>
			<col align="left"/>

			<thead>
				<tr>
					<th>Option</th>
					<th>Effect</th>
				</tr>
			</thead>

			<tbody>
				<tr>
					<td><option>-o&nbsp;&repstring;</option></td>
					<td>Specifies output file name</td>
				</tr>
				<tr>
					<td><option>-D&nbsp;&repstring;=&repstring;</option></td>
					<td>Defines a macro</td>
				</tr>
				<tr>
					<td><option>-D&nbsp;&repstring;</option></td>
					<td>Defines a macro to be <code>1</code></td>
				</tr>
				<tr>
					<td><option>-F&repletter;</option></td>
					<td>Halts the compilation at the given stage</td>
				</tr>
				<tr>
					<td><option>-I&nbsp;&repstring;</option></td>
					<td>Specifies an include file directory</td>
				</tr>
				<tr>
					<td><option>-L&nbsp;&repstring;</option></td>
					<td>Specifies a system library directory</td>
				</tr>
				<tr>
					<td><option>-N&nbsp;&repstring;: &repstring;</option></td>
					<td>Specifies an include file directory (with mode)</td>
				</tr>
				<tr>
					<td><option>-O&repstring;</option></td>
					<td>Switches optimisation level</td>
				</tr>
				<tr>
					<td><option>-P&repletter;...</option></td>
					<td>Causes intermediate files to be preserved</td>
				</tr>
				<tr>
					<td><option>-S</option></td>
					<td>Halts compilation after creating
						<filename>.s</filename> files</td>
				</tr>
				<tr>
					<td><option>-T&nbsp;&repstring;</option></td>
					<td>Specifies a command-line token</td>
				</tr>
				<tr>
					<td><option>-U&nbsp;&repstring;</option></td>
					<td>Undefines a macro</td>
				</tr>
				<tr>
					<td><option>-W&repletter;,&nbsp;&repstring;,&nbsp;...</option></td>
					<td>Passed an option to a compilation tool</td>
				</tr>
				<tr>
					<td><option>-W&repletter;:&nbsp;&repstring;</option></td>
					<td>Passed an option to a compilation tool</td>
				</tr>
				<tr>
					<td><option>-X:&nbsp;&repstring;,&nbsp;...</option></td>
					<td>Specifies a compilation option</td>
				</tr>
				<tr>
					<td><option>-X&repstring;</option></td>
					<td>Specifies a compilation mode</td>
				</tr>
				<tr>
					<td><option>-Y&nbsp;&repstring;</option></td>
					<td>Reads an environment</td>
				</tr>
				<tr>
					<td><option>-c</option></td>
					<td>Halts compilation after creating
						<filename>.o</filename> files</td>
				</tr>
				<tr>
					<td><option>-d</option></td>
					<td>Halts compilation after creating
						<filename>.d</filename> files</td>
				</tr>
				<tr>
					<td><option>-dry</option></td>
					<td>Causes a dry run</td>
				</tr>
				<tr>
					<td><option>-e&nbsp;&repstring;</option></td>
					<td>Specifies a producer end-up file</td>
				</tr>
				<tr>
					<td><option>-f&nbsp;&repstring;</option></td>
					<td>Specifies a producer start-up file</td>
				</tr>
				<tr>
					<td><option>-g</option></td>
					<td>Produces debugging information (default format)</td>
				</tr>
				<tr>
					<td><option>-g1</option></td>
					<td>Produces debugging information (old format)</td>
				</tr>
				<tr>
					<td><option>-g2</option></td>
					<td>Produces debugging information (new format)</td>
				</tr>
				<tr>
					<td><option>-g3</option></td>
					<td>Produces debugging information (new format)</td>
				</tr>
				<tr>
					<td><option>-k</option></td>
					<td>Halts compilation after creating
						<filename>.k</filename> and
						<filename>.K</filename> files</td>
				</tr>
				<tr>
					<td><option>-l&nbsp;&repstring;</option></td>
					<td>Specifies a system library</td>
				</tr>
				<tr>
					<td><option>-not_ansi</option></td>
					<td>Allows some non-ANSI C features</td>
				</tr>
				<tr>
					<td><option>-nepc</option></td>
					<td>Switches off extra portability checks</td>
				</tr>
				<tr>
					<td><option>-sym</option></td>
					<td>Enables symbol table dump linking</td>
				</tr>
				<tr>
					<td><option>-sym:&repstring;</option></td>
					<td>Enables symbol table dump linking with flags</td>
				</tr>
				<tr>
					<td><option>-v</option></td>
					<td>Specifies verbose mode</td>
				</tr>
				<tr>
					<td><option>-vb</option></td>
					<td>Specifies fairly verbose mode</td>
				</tr>
				<tr>
					<td><option>-vd</option></td>
					<td>Dump the env information &tcc; got hold of</td>
				</tr>
				<tr>
					<td><option>-ve</option></td>
					<td>Verbose information about tool chain environment</td>
				</tr>
				<tr>
					<td><option>-vt</option></td>
					<td>Verbose information about tool chain invocation</td>
				</tr>
				<tr>
					<td><option>-no_shuffle</option></td>
					<td>Turns off shuffle ranking of cmd line args</td>
				</tr>
				<tr>
					<td><option>-y&nbsp;&repstring;=&repstring;</option></td>
					<td>Sets an env directory variable</td>
				</tr>
				<tr>
					<td><option>-J&nbsp;&repstring;</option></td>
					<td>Specifies a &tdf; library directory</td>
				</tr>
				<tr>
					<td><option>-M</option></td>
					<td>Causes all <filename>.j</filename> files to be merged</td>
				</tr>
				<tr>
					<td><option>-MA</option></td>
					<td>As <option>-M</option>, but with hiding</td>
				</tr>
				<tr>
					<td><option>-ch</option></td>
					<td>Invokes checker mode</td>
				</tr>
				<tr>
					<td><option>-disp</option></td>
					<td>Causes all <filename>.j</filename> files to be pretty printed</td>
				</tr>
				<tr>
					<td><option>-disp_t</option></td>
					<td>Causes all <filename>.t</filename> files to be pretty printed</td>
				</tr>
				<tr>
					<td><option>-i</option></td>
					<td>Halts compilation after creating .j files</td>
				</tr>
				<tr>
					<td><option>-im</option></td>
					<td>Enables intermodular checks</td>
				</tr>
				<tr>
					<td><option>-j&nbsp;&repstring;</option></td>
					<td>Specifies a &tdf; library</td>
				</tr>
				<tr>
					<td><option>-prod</option></td>
					<td>Causes a &tdf; archive to be produced</td>
				</tr>
				<tr>
					<td><option>-A -</option></td>
					<td>Unasserts all built-in predicates</td>
				</tr>
				<tr>
					<td><option>-A&nbsp;&repstring;</option></td>
					<td>Asserts a predicate</td>
				</tr>
				<tr>
					<td><option>-B&nbsp;&repstring;</option></td>
					<td>Passed to the system linker</td>
				</tr>
				<tr>
					<td><option>-C</option></td>
					<td>Preserves comments when preprocessing</td>
				</tr>
				<tr>
					<td><option>-E</option></td>
					<td>Causes C source files to be preprocessed</td>
				</tr>
				<tr>
					<td><option>-E&repletter;:&nbsp;&repstring;</option></td>
					<td>Specifies an executable to be used</td>
				</tr>
				<tr>
					<td><option>-H</option></td>
					<td>Causes included files to be printed</td>
				</tr>
				<tr>
					<td><option>-S&repletter;,&nbsp;&repstring;,&nbsp;...</option></td>
					<td>Specifies input files</td>
				</tr>
				<tr>
					<td><option>-S&repletter;:&nbsp;&repstring;</option></td>
					<td>Specifies input files</td>
				</tr>
				<tr>
					<td><option>-V</option></td>
					<td>Causes all tools to print their version numbers</td>
				</tr>
				<tr>
					<td><option>-cc</option></td>
					<td>Forces the system compiler to be used</td>
				</tr>
				<tr>
					<td><option>-cc_only</option></td>
					<td>Forces only the system compiler to be used</td>
				</tr>
				<tr>
					<td><option>-do&repletter;&nbsp;&repstring;</option></td>
					<td>Sets a default output file name</td>
				</tr>
				<tr>
					<td><option>-dump</option></td>
					<td>Dumps the current status</td>
				</tr>
				<tr>
					<td><option>-ignore_case</option></td>
					<td>Ignores case in file names</td>
				</tr>
				<tr>
					<td><option>-im0</option></td>
					<td>Disables intermodular checks</td>
				</tr>
				<tr>
					<td><option>-info</option></td>
					<td>Causes &api; information to be printed</td>
				</tr>
				<tr>
					<td><option>-keep_errors</option></td>
					<td>Causes files to be preserved on errors</td>
				</tr>
				<tr>
					<td><option>-make_up_names</option></td>
					<td>Makes up names for intermediate files</td>
				</tr>
				<tr>
					<td><option>-message&nbsp;&repstring;</option></td>
					<td>Causes &tcc; to print a message</td>
				</tr>
				<tr>
					<td><option>-p</option></td>
					<td>Causes profiling information to be produced</td>
				</tr>
				<tr>
					<td><option>-q</option></td>
					<td>Specifies quiet mode</td>
				</tr>
				<tr>
					<td><option>-quiet</option></td>
					<td>Equivalent to <option>-q</option></td>
				</tr>
				<tr>
					<td><option>-query</option></td>
					<td>Causes a list of options to be printed</td>
				</tr>
				<tr>
					<td><option>-s&repletter;:&nbsp;&repstring;</option></td>
					<td>Specifies a suffix override</td>
				</tr>
				<tr>
					<td><option>-show_errors</option></td>
					<td>Causes error producing commands to be shown</td>
				</tr>
				<tr>
					<td><option>-special&nbsp;&repstring;</option></td>
					<td>Allows various internal options</td>
				</tr>
				<tr>
					<td><option>-startup&nbsp;&repstring;</option></td>
					<td>Specifies a start-up option</td>
				</tr>
				<tr>
					<td><option>-target&nbsp;&repstring;</option></td>
					<td>Provided for &cc; compatibility</td>
				</tr>
				<tr>
					<td><option>-temp&nbsp;&repstring;</option></td>
					<td>Specifies the temporary directory</td>
				</tr>
				<tr>
					<td><option>-tidy</option></td>
					<td>Causes &tcc; to tidy up as it goes along</td>
				</tr>
				<tr>
					<td><option>-time</option></td>
					<td>Causes all commands to be timed</td>
				</tr>
				<tr>
					<td><option>-verbose</option></td>
					<td>Equivalent to <option>-v</option></td>
				</tr>
				<tr>
					<td><option>-version</option></td>
					<td>Causes &tcc; to print its version number</td>
				</tr>
				<tr>
					<td><option>-w</option></td>
					<td>Suppresses &tcc; warnings</td>
				</tr>
				<tr>
					<td><option>-work&nbsp;&repstring;</option></td>
					<td>Specifies the work directory</td>
				</tr>
				<tr>
					<td><option>-G</option></td>
					<td>Provided for &cc; compatibility</td>
				</tr>
				<tr>
					<td><option>-K&nbsp;&repstring;,&nbsp;...</option></td>
					<td>Provided for &cc; compatibility</td>
				</tr>
				<tr>
					<td><option>-Z&repstring;</option></td>
					<td>Provided for &cc; compatibility</td>
				</tr>
				<tr>
					<td><option>-b</option></td>
					<td>Suppresses <option>-lc</option> in system linking</td>
				</tr>
				<tr>
					<td><option>-dn</option></td>
					<td>Passed to the system linker</td>
				</tr>
				<tr>
					<td><option>-dy</option></td>
					<td>Passed to the system linker</td>
				</tr>
				<tr>
					<td><option>-h&nbsp;&repstring;</option></td>
					<td>Passed to the system linker</td>
				</tr>
				<tr>
					<td><option>-no_startup_options</option></td>
					<td>Suppresses start-up options</td>
				</tr>
				<tr>
					<td><option>-s</option></td>
					<td>Passed to the system linker</td>
				</tr>
				<tr>
					<td><option>-u&nbsp;&repstring;</option></td>
					<td>Passed to the system linker</td>
				</tr>
				<tr>
					<td><option>-wsl</option></td>
					<td>Causes string literals to be made writable</td>
				</tr>
				<tr>
					<td><option>-z&nbsp;&repstring;</option></td>
					<td>Passed to the system linker</td>
				</tr>
				<tr>
					<td><option>-#</option></td>
					<td>Equivalent to <option>-v</option></td>
				</tr>
				<tr>
					<td><option>-##</option></td>
					<td>Equivalent to <option>-v</option></td>
				</tr>
				<tr>
					<td><option>-###</option></td>
					<td>Equivalent to <option>-dry</option></td>
				</tr>
				<tr>
					<td><option>--&nbsp;&repstring;,&nbsp;...</option></td>
					<td>Communicates directly with the option interpreter</td>
				</tr>
			</tbody>
		</table>

		<para>The following two tables list the producer and archiver
			options which can be passed using the
			<option>-Wc,&nbsp;<replaceable>opt</replaceable></option> and
			<option>-WJ,&nbsp;<replaceable>opt</replaceable></option>
			options, respectively.</para>

		<table>
			<title>Producer Options</title>

			<col align="left"/>
			<col align="left"/>

			<thead>
				<tr>
					<th>Option</th>
					<th>Description</th>
				</tr>
			</thead>

			<tbody>
				<tr>
					<td><option>-D&nbsp;<replaceable>macro</replaceable></option></td>
					<td>Defines the macro
						<replaceable>macro</replaceable> to be
						<code>1</code></td>
				</tr>
				<tr>
					<td><option>-D&nbsp;<replaceable>macro</replaceable>=<replaceable>defn</replaceable></option></td>
					<td>Defines the macro
						<replaceable>macro</replaceable> to be
						<replaceable>defn</replaceable></td>
				</tr>
				<tr>
					<td><option>-E&nbsp;<replaceable>number</replaceable></option></td>
					<td>Sets maximum number of allowed errors
						(default 20)</td>
				</tr>
				<tr>
					<td><option>-H</option></td>
					<td>Causes <code>#include'd</code> files to be
						printed as they are processed</td>
				</tr>
				<tr>
					<td><option>-I&nbsp;<replaceable>dir</replaceable></option></td>
					<td>Specifies the additional include file
						directory <replaceable>dir</replaceable></td>
				</tr>
				<tr>
					<td><option>-U&nbsp;<replaceable>macro</replaceable></option></td>
					<td>Undefines the macro <replaceable>macro</replaceable></td>
				</tr>
				<tr>
					<td><option>-e&nbsp;<replaceable>file</replaceable></option></td>
					<td>Specifies the end-up file <replaceable>file</replaceable></td>
				</tr>
				<tr>
					<td><option>-f&nbsp;<replaceable>file</replaceable></option></td>
					<td>Specifies the start-up file <replaceable>file</replaceable></td>
				</tr>
				<tr>
					<td><option>-nepc</option></td>
					<td>Switches off extra portability,
						and certian other, checks</td>
				</tr>
				<tr>
					<td><option>-not_ansi</option></td>
					<td>Allows a selection of non-ISO/ANSI C
						features</td>
				</tr>
			</tbody>
		</table>

		<table>
			<title>Archiver Options</title>

			<col align="left"/>
			<col align="center"/>
			<col align="left"/>

			<thead>
				<tr>
					<th>Option</th>
					<th>Default</th>
					<th>Description</th>
				</tr>
			</thead>

			<tbody>
				<tr>
					<td><option>-copy</option> or <option>-c</option></td>
					<td>&cross;</td>
					<td>Copies files into archives</td>
				</tr>
				<tr>
					<td><option>-full</option> or <option>-f</option></td>
					<td>&check;</td>
					<td>Uses full pathnames for archive links</td>
				</tr>
				<tr>
					<td><option>-link</option> or <option>-l</option></td>
					<td>&check;</td>
					<td>Links files into archives</td>
				</tr>
				<tr>
					<td><option>-names</option> or <option>-n</option></td>
					<td>&check;</td>
					<td>Uses real names for copied files</td>
				</tr>
				<tr>
					<td><option>-no_names</option> or <option>-nn</option></td>
					<td>&check;</td>
					<td>Makes up names for copied files</td>
				</tr>
				<tr>
					<td><option>-no_options</option> or <option>-no</option></td>
					<td>&cross;</td>
					<td>Does not interpret any archived options</td>
				</tr>
				<tr>
					<td><option>-options</option> or <option>-o</option></td>
					<td>&check;</td>
					<td>Interprets any archived options</td>
				</tr>
				<tr>
					<td><option>-short</option> or <option>-s</option></td>
					<td>&cross;</td>
					<td>Uses short pathnames for archive links</td>
				</tr>
			</tbody>
		</table>
	</section>

	<section>
		<title>Compilation Modes</title>

		<para>The built-in compilation modes are as follows:</para>

		<table>
			<col align="center"/>
			<col align="left"/>
			<col align="left"/>

			<thead>
				<tr>
					<th>Mode</th>
					<th>Summary</th>
					<th>Description</th>
				</tr>
			</thead>

			<tbody>
				<tr>
					<td><option>Xs</option></td>
					<td><quote>Strict checks</quote></td>
					<td>Strict ISO/ANSI C with most extra checks
						enabled as warnings</td>
				</tr>
				<tr>
					<td><option>Xp</option></td>
					<td><quote>Partial checks</quote></td>
					<td>Strict ISO/ANSI C with some extra checks
						enabled</td>
				</tr>
				<tr>
					<td><option>Xc</option></td>
					<td><quote>Conformance</quote></td>
					<td>Strict ISO/ANSI C with no extra checks
						enabled (this is default)</td>
				</tr>
				<tr>
					<td><option>Xa</option></td>
					<td><quote>ANSI-ish</quote></td>
					<td>ISO/ANSI C with syntactic relaxations
						and no extra checks</td>
				</tr>
				<tr>
					<td><option>Xt</option></td>
					<td><quote>Traditional</quote></td>
					<td>Traditional C with no extra checks</td>
				</tr>
			</tbody>
		</table>

		<para>The mode <option>Xs</option> is specified by passing the
			<option>-Xs</option> command-line option to &tcc;, and so
			on.</para>
	</section>

	<section>
		<title>Supported &api;s</title>

		<para>The following standard &api;s are supported in the form of
			TenDRA headers:</para>

		<table>
			<title>Supported &api;s</title>

			<col align="left"/>
			<col align="left"/>
			<col align="left"/>

			<thead>
				<tr>
					<th>&api;&nbsp;Name</th>
					<th>Type</th>
					<th>Description</th>
				</tr>
			</thead>

			<tbody>
				<tr>
					<td><code>ansi</code></td>
					<td>base&nbsp;(default)</td>
					<td>ANSI X3.159</td>
				</tr>
				<tr>
					<td><code>iso</code></td>
					<td>base</td>
					<td>ISO MSE 9899:1990 (Ammendment 1:1993 (E))</td>
				</tr>
				<tr>
					<td><code>posix</code></td>
					<td>base</td>
					<td>POSIX 1003.1</td>
				</tr>
				<tr>
					<td><code>posix2</code></td>
					<td>base</td>
					<td>POSIX 1003.2</td>
				</tr>
				<tr>
					<td><code>xpg3</code></td>
					<td>base</td>
					<td>X/Open Portability Guide 3</td>
				</tr>
				<tr>
					<td><code>xpg4</code></td>
					<td>base</td>
					<td>X/Open Portability Guide 4</td>
				</tr>
				<tr>
					<td><code>cose</code>
						<footnote>
							<para>This &api; description is based on an
								early version of the COSE 1170
								specification and may be subject to
								revision.</para>
						</footnote></td>
					<td>base</td>
					<td>COSE 1170</td>
				</tr>
				<tr>
					<td><code>svid3</code></td>
					<td>base</td>
					<td>System V Interface Definition 3rd Edition</td>
				</tr>
				<tr>
					<td><code>aes</code></td>
					<td>base</td>
					<td>AES Revision A</td>
				</tr>
			</tbody>

			<tbody>
				<tr>
					<td><code>bsd_extn</code>
						<footnote>
							<para>The BSD extension &api; consists of a
								pragmatic collection of BSD types and
								functions which are commonly found on
								non-BSD machines. It roughly corresponds
								to the BSD component of COSE (it contains
								sockets, <function>select</function>,
								etc.).</para>
						</footnote></td>
					<td>extension</td>
					<td>BSD-like extension for use with POSIX etc.</td>
				</tr>
				<tr>
					<td><code>x5_lib</code></td>
					<td>extension</td>
					<td>X11 (Release 5) X Library</td>
				</tr>
				<tr>
					<td><code>x5_t</code>
						<footnote>
							<para>The X11 private headers are further protected.
								If the private headers are required the option
								<option>-Yx5_private</option> should also be
								given.</para>
						</footnote></td>
					<td>extension</td>
					<td>X11 (Release 5) Intrinsics Toolkit</td>
				</tr>
				<tr>
					<td><code>x5_mu</code></td>
					<td>extension</td>
					<td>X11 (Release 5) Miscellaneous Utilities</td>
				</tr>
				<tr>
					<td><code>x5_aw</code></td>
					<td>extension</td>
					<td>X11 (Release 5) Athena Widgets</td>
				</tr>
				<tr>
					<td><code>x5_mit</code>
						<footnote>
							<para>This &api; is designed to cover some
								of the commonly used features from
								MIT-based X11 implementations which are
								not actually part of the X11
								specification.</para>
						</footnote></td>
					<td>extension</td>
					<td>X11 (Release 5) MIT implementation</td>
				</tr>
				<tr>
					<td><code>x5_proto</code></td>
					<td>extension</td>
					<td>X11 (Release 5) Protocol Extension</td>
				</tr>
				<tr>
					<td><code>x5_ext</code></td>
					<td>extension</td>
					<td>X11 (Release 5) Extensions</td>
				</tr>
				<tr>
					<td><code>motif</code></td>
					<td>extension</td>
					<td>Motif 1.1</td>	<!-- TODO: now 1.2? -->
				</tr>
			</tbody>

			<tbody>
				<tr>
					<td><code>system</code></td>
					<td role="na">&ndash;</td>
					<td>System headers as main &api;</td>
				</tr>
				<tr>
					<td><code>system+</code></td>
					<td role="na">&ndash;</td>
					<td>System headers as last resort extension &api;</td>
				</tr>
			</tbody>
		</table>

		<para>Each &api; is specified to &tcc; by means of an environment
			with the same name as the &api;.
			Thus, for example, <option>-Yposix</option> specifies
			POSIX 1003.1.
			&api;s are divided into two types, base &api;s, such as
			POSIX 1003.1, and extension &api;s, such as the
			X11 (Release 5) Toolkit.
			A program &api; consists of a base &api; plus an number of
			extension &api;s, for example, POSIX plus the X11 Toolkit.
			This example would be specified by means of the options
			<option>-Yposix&nbsp;-Yx5_t</option>, in that order
			(base &api;s override the previous &api;, extension &api;s
			add to it).</para>

		<para>Information on the current &api; may be printed by passing
			the <option>-info</option> option to &tcc;.</para>
	</section>

	<section>
		<title>Environment Identifiers</title>

		<para>The following &tcc; environment identifiers are
			recognised:</para>

		<table>
			<col align="left"/>
			<col align="left"/>

			<thead>
				<tr>
					<th>Identifier</th>
					<th>Description</th>
				</tr>
			</thead>

			<tbody>
				<tr>
					<td><code>*AS</code></td>
					<td>Modifies the system assembler executable</td>
				</tr>
				<tr>
					<td><code>*AS1</code></td>
					<td>Modifies the auxilliary system assembler
						executable (Mips only)</td>
				</tr>
				<tr>
					<td><code>*CC</code></td>
					<td>Modifies the system compiler executable</td>
				</tr>
				<tr>
					<td><code>*CRT0</code></td>
					<td>Modifies the first list of initial default
						<filename>.o</filename> files</td>
				</tr>
				<tr>
					<td><code>*CRT1</code></td>
					<td>Modifies the second list of initial default
						<filename>.o</filename> files</td>
				</tr>
				<tr>
					<td><code>*CRTN</code></td>
					<td>Modifies the list of final default
						<filename>.o</filename> files</td>
				</tr>
				<tr>
					<td><code>*DISP</code></td>
					<td>Modifies the &tdf; pretty printer
						executable</td>
				</tr>
				<tr>
					<td><code>+ENVDIR</code></td>
					<td>Sets the main environment directory</td>
				</tr>
				<tr>
					<td><code>+FLAG</code></td>
					<td>Passes a flag to &tcc;</td>
				</tr>
				<tr>
					<td><code>+FLAG_AS</code></td>
					<td>Passes a flag to the assembler</td>
				</tr>
				<tr>
					<td><code>+FLAG_CC</code></td>
					<td>Passes a flag to the system compiler</td>
				</tr>
				<tr>
					<td><code>+FLAG_DISP</code></td>
					<td>Passes a flag to the &tdf; pretty printer</td>
				</tr>
				<tr>
					<td><code>+FLAG_INSTALL</code></td>
					<td>Passes a flag to the &tdf; archive builder</td>
				</tr>
				<tr>
					<td><code>+FLAG_LD</code></td>
					<td>Passes a flag to the system linker</td>
				</tr>
				<tr>
					<td><code>+FLAG_SPEC_LINK</code></td>
					<td>Passes a flag to the C spec linker</td>
				</tr>
				<tr>
					<td><code>+FLAG_TDFC</code></td>
					<td>Passes a flag to the producer</td>
				</tr>
				<tr>
					<td><code>+FLAG_TDFCPP</code></td>
					<td>Passes a flag to the preprocessor</td>
				</tr>
				<tr>
					<td><code>+FLAG_TLD</code></td>
					<td>Passes a flag to the &tdf; linker</td>
				</tr>
				<tr>
					<td><code>+FLAG_TNC</code></td>
					<td>Passes a flag to the &tdf; notation compiler</td>
				</tr>
				<tr>
					<td><code>+FLAG_TRANS</code></td>
					<td>Passes a flag to the &tdf; translator</td>
				</tr>
				<tr>
					<td><code>*INCL</code></td>
					<td>Modifies the list of default include
						file directories</td>
				</tr>
				<tr>
					<td><code>*INFO</code></td>
					<td>Modifies the list of &api; information</td>
				</tr>
				<tr>
					<td><code>*LD</code></td>
					<td>Modifies the system linker executable</td>
				</tr>
				<tr>
					<td><code>*LIB</code></td>
					<td>Modifies the list of default &tdf;
						libraries</td>
				</tr>
				<tr>
					<td><code>+LINE_START</code></td>
					<td>Inserts a line in the &tcc; built-in
						start-up file</td>
				</tr>
				<tr>
					<td><code>+LINE_END</code></td>
					<td>Inserts a line in the &tcc; built-in
						end-up file</td>
				</tr>
				<tr>
					<td><code>*LINK</code></td>
					<td>Modifies the list of default &tdf; library
						directories</td>
				</tr>
				<tr>
					<td><code>+PORTABILITY</code></td>
					<td>Sets the producer portability table</td>
				</tr>
				<tr>
					<td><code>*SPEC_LINK</code></td>
					<td>Modifies the C spec linker executable</td>
				</tr>
				<tr>
					<td><code>*STARTUP</code></td>
					<td>Modifies the list of default producer
						start-up files</td>
				</tr>
				<tr>
					<td><code>*STARTUP_DIR</code></td>
					<td>Modifies the list of default start-up
						directories</td>
				</tr>
				<tr>
					<td><code>*SYS_LIB</code></td>
					<td>Modifies the list of default system
						libraries</td>
				</tr>
				<tr>
					<td><code>*SYS_LIBC</code></td>
					<td>Modifies the list of standard system
						libraries</td>
				</tr>
				<tr>
					<td><code>*SYS_LINK</code></td>
					<td>Modifies the list of default system library
						directories</td>
				</tr>
				<tr>
					<td><code>*TDFC</code></td>
					<td>Modifies the producer executable</td>
				</tr>
				<tr>
					<td><code>*TDFCPP</code></td>
					<td>Modifies the preprocessor executable</td>
				</tr>
				<tr>
					<td><code>+TEMP</code></td>
					<td>Sets the temporary directory
						<footnote>
							<para>The temporary directory can also be
								set using the <varname>TMPDIR</varname>
								system variable on those machines which
								implement the XPG3
								<function>tempnam</function> system
								routine.</para>
						</footnote></td>
				</tr>
				<tr>
					<td><code>*TLD</code></td>
					<td>Modifies the &tdf; linker executable</td>
				</tr>
				<tr>
					<td><code>*TNC</code></td>
					<td>Modifies the &tdf; notation compiler
						executable</td>
				</tr>
				<tr>
					<td><code>*TRANS</code></td>
					<td>Modifies the &tdf; translator executable</td>
				</tr>
			</tbody>
		</table>

		<para><code>*</code> stands for any of the allowed environment
			modifiers <code>+</code>, <code>&lt;</code> or
			<code>&gt;</code>.</para>
	</section>

	<section>
		<title>Standard Environments</title>

		<para>In addition to the environments implementing the supported
			&api;s (see section 7.5. on page 31<!-- TODO: link -->), the
			following environments are standard; those which alter the
			compilation phases:</para>

		<table>
			<col align="left"/>
			<col align="left"/>

			<thead>
				<tr>
					<th>Environment</th>
					<th>Description</th>
				</tr>
			</thead>

			<tbody>
				<tr>
					<td><code>default</code></td>
					<td>Default settings (built into &tcc;)</td>
				</tr>
				<tr>
					<td><code>16bit</code></td>
					<td>Specifies the minimal integer
						sizes allowed by ANSI</td>
				</tr>
				<tr>
					<td><code>32bit</code></td>
					<td>Specifies the integer sizes found on most
						32-bit machines</td>
				</tr>
				<tr>
					<td><code>common</code></td>
					<td>Equivalent to <code>32bit</code></td>
				</tr>
				<tr>
					<td><code>makelib</code></td>
					<td>Used to construct &tdf; libraries</td>
				</tr>
				<tr>
					<td><code>pl_tdf</code></td>
					<td>Used to specify the use of the PL_TDF compiler</td>
				</tr>
				<tr>
					<td><code>status</code></td>
					<td>Causes the environment status to be reported</td>
				</tr>
				<tr>
					<td><code>tdp</code></td>
					<td>Used in &tdf; library building</td>
				</tr>
				<tr>
					<td><code>tnc</code></td>
					<td>Used to specify the use of the &tdf;
						notation compiler</td>
				</tr>
			</tbody>
		</table>

		<para>and those which form part of the implementation for
			command-line options:</para>

		<table>
			<col align="left"/>
			<col align="left"/>

			<thead>
				<tr>
					<th>Environment</th>
					<th>Option&nbsp;Implemented</th>
				</tr>
			</thead>

			<tbody>
				<tr>
					<td><code>tcc_diag</code></td>
					<td><option>-g</option></td>
				</tr>
				<tr>
					<td><code>tcc_pp</code></td>
					<td><option>-E</option> and <option>-P</option></td>
				</tr>
				<tr>
					<td><code>tcc_prof</code></td>
					<td><option>-p</option></td>
				</tr>
				<tr>
					<td><code>tcc_time</code></td>
					<td><option>-time</option></td>
				</tr>
				<tr>
					<td><code>wsl</code></td>
					<td><option>-wsl</option></td>
				</tr>
				<tr>
					<td><code>Goption</code></td>
					<td><option>-G</option></td>
				</tr>
				<tr>
					<td><code>K-<replaceable>item</replaceable></code></td>
					<td><option>-K&nbsp;<replaceable>item</replaceable></option></td>
				</tr>
				<tr>
					<td><code>Versions</code></td>
					<td><option>-V</option></td>
				</tr>
				<tr>
					<td><code>X<replaceable>mode</replaceable></code></td>
					<td><option>-X&nbsp;<replaceable>mode</replaceable></option></td>
				</tr>
				<tr>
					<td><code>Z-<replaceable>str</replaceable></code></td>
					<td><option>-Z&nbsp;<replaceable>str</replaceable></option></td>
				</tr>
			</tbody>
		</table>

	</section>

</appendix>

